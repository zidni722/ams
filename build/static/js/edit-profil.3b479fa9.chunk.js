(this["webpackJsonpgogo-react"]=this["webpackJsonpgogo-react"]||[]).push([[18],{173:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}));var n=a(6),s=a.n(n),l=a(211);const r=e=>s.a.createElement(l.a,Object.assign({},e,{widths:["xxs","xs","sm","md","lg","xl","xxl"]})),i=e=>s.a.createElement("div",{className:"separator ".concat(e.className)})},177:function(e,t,a){"use strict";var n=a(6),s=a.n(n),l=a(222),r=a(223),i=a(176),o=a(175);const c=e=>s.a.createElement(o.a,{id:"menu.".concat(e)}),m=(e,t,a)=>0===a?"":e.split(t)[0]+t,d=({match:e})=>{const t=e.path.substr(1);let a=t.split("/");return a[a.length-1].indexOf(":")>-1&&(a=a.filter(e=>-1===e.indexOf(":"))),s.a.createElement(n.Fragment,null,s.a.createElement(l.a,{className:"pt-0 breadcrumb-container d-none d-sm-block d-lg-inline-block"},a.map((e,n)=>s.a.createElement(r.a,{key:n,active:a.length===n+1},a.length!==n+1?s.a.createElement(i.c,{to:"/"+m(t,e,n)},c(e)):c(e)))))};t.a=({heading:e,match:t})=>s.a.createElement(n.Fragment,null,e&&s.a.createElement("h1",null,s.a.createElement(o.a,{id:e})),s.a.createElement(d,{match:t}))},181:function(e,t,a){"use strict";var n=a(180),s=(a(178),a(179));a.d(t,"a",(function(){return s.a}));n.a},201:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function s(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"===typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e))){var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,l,r=!0,i=!1;return{s:function(){s=e[Symbol.iterator]()},n:function(){var e=s.next();return r=e.done,e},e:function(e){i=!0,l=e},f:function(){try{r||null==s.return||s.return()}finally{if(i)throw l}}}}a.d(t,"a",(function(){return s}))},248:function(e,t,a){"use strict";var n=a(11),s=a(19),l=a(6),r=a.n(l),i=a(85),o=a.n(i),c=a(170),m=a.n(c),d=a(172),u={tag:d.q,className:o.a.string,cssModule:o.a.object,innerRef:o.a.oneOfType([o.a.object,o.a.string,o.a.func])},h=function(e){var t=e.className,a=e.cssModule,l=e.innerRef,i=e.tag,o=Object(s.a)(e,["className","cssModule","innerRef","tag"]),c=Object(d.m)(m()(t,"card-body"),a);return r.a.createElement(i,Object(n.a)({},o,{className:c,ref:l}))};h.propTypes=u,h.defaultProps={tag:"div"},t.a=h},647:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return U}));var n=a(6),s=a.n(n),l=a(212),r=a(173),i=a(177),o=a(201),c=a(3),m=a.n(c),d=a(9),u=a(33),h=a(220),p=a(213),f=a(248),g=a(656),b=a(657),E=a(385),v=a(10),y=a(182),S=a(210),C=a(181);class N extends n.Component{constructor(e){var t;super(e),t=this,this.handleChange=e=>{const t=e.target,a=t.name,n=t.value;this.setState({[a]:n})},this.handleFileChange=e=>{this.setState({[e.target.name]:e.target.files[0]})},this.handlerSelectChange=(e,t)=>{const a=e.value,n=t;this.setState({[n]:a}),u.reactLocalStorage.set(n,a)},this.handlerSubmit=function(){var e=Object(d.a)(m.a.mark((function e(a,n){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),y.a.defaults.headers.common["Content-Type"]="multipart/form-data",(s=new FormData).append("name",t.state.name),s.append("email",t.state.email),s.append("phone",t.state.phone),s.append("address",t.state.address),s.append("code",t.state.code),s.append("city_id",t.state.city),s.append("role_id",t.state.role),s.append("division_id",t.state.division),t.state.photo&&s.append("photo",t.state.photo),t.state.pasword&&s.append("password",t.state.password),y.a.put("/users/"+t.state.detailUser.id,s).then(e=>{200===e.status&&y.a.get("/users/"+t.state.detailUser.id).then(e=>{if(200===e.status){const t=e.data.data;t.token=v.i.token,u.reactLocalStorage.remove("me"),u.reactLocalStorage.setObject("me",t),window.location.href="./profil",u.reactLocalStorage.set("isSuccesSubmit",!0)}}).catch(e=>{console.log(e.message),C.a.error("Silahkan coba kembali beberapa saat lagi!","Terjadi Kesalahan",5e3,()=>{t.setState({visible:!1})},null)}),console.log(t.state.detailUser)}).catch(e=>{console.log(e.message)});case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.state={name:"",firstName:"",lastName:"",email:"",phone:"",address:"",code:"",photo:"",city_id:"",city:"",role_id:"",role:"",division_id:"",division:"",detailUser:""}}componentDidMount(){y.a.get("/users/"+v.i.id).then(e=>{this.setState({detailUser:e.data.data}),this.setState({code:this.state.detailUser.code}),this.setState({name:this.state.detailUser.name}),this.setState({email:this.state.detailUser.email}),this.setState({role:this.state.detailUser.role_id}),this.setState({division:this.state.detailUser.division_id}),this.setState({city:this.state.detailUser.city_id}),this.setState({phone:this.state.detailUser.phone}),this.setState({address:this.state.detailUser.address}),this.setState({photo:this.state.detailUser.photo}),u.reactLocalStorage.set("defaultRoleValue",this.state.detailUser.role_id),u.reactLocalStorage.set("defaultRoleLabel",this.state.detailUser.role_name),u.reactLocalStorage.set("defaultDivisionValue",this.state.detailUser.division_id),u.reactLocalStorage.set("defaultDivisionLabel",this.state.detailUser.division_name),u.reactLocalStorage.set("defaultCityValue",this.state.detailUser.city_id),u.reactLocalStorage.set("defaultCityLabel",this.state.detailUser.city_name)}).catch(e=>{console.log(e.message)}),y.a.get("/cities").then(e=>{let t=[];const a=e.data.data;var n,s=Object(o.a)(a);try{for(s.s();!(n=s.n()).done;){const e=n.value;t.push({value:e.id,label:e.name})}}catch(l){s.e(l)}finally{s.f()}this.setState({dataCities:t}),console.log(this.state.dataCities)}).catch(e=>{console.log(e.message)})}render(){return s.a.createElement(l.a,{className:"mb-4"},s.a.createElement(r.a,{xxs:"12"},s.a.createElement(p.a,null,s.a.createElement(f.a,null,s.a.createElement(h.c,{enableReinitialize:!0},()=>s.a.createElement(h.b,{onSubmit:this.handlerSubmit,className:"av-tooltip tooltip-label-right"},s.a.createElement(g.a,{className:"error-l-50"},s.a.createElement(b.a,null,"NPK"),s.a.createElement("input",{disabled:!0,className:"form-control",name:"code",defaultValue:v.i.code,onChange:this.handleChange})),s.a.createElement(g.a,{className:"error-l-100"},s.a.createElement(b.a,null,"Nama Lengkap"),s.a.createElement("input",{className:"form-control",name:"name",defaultValue:v.i.name,onChange:this.handleChange})),s.a.createElement(g.a,null,s.a.createElement(b.a,null,"Email"),s.a.createElement("input",{disabled:!0,className:"form-control",name:"email",type:"email",defaultValue:v.i.email,onChange:this.handleChange})),s.a.createElement(g.a,{className:"error-l-50"},s.a.createElement(b.a,null,"Nomor Telepon"),s.a.createElement("input",{className:"form-control",name:"phone",country:"id",defaultValue:v.i.phone,onChange:this.handleChange})),s.a.createElement(g.a,{className:"error-l-50"},s.a.createElement(b.a,null,"City"),s.a.createElement(S.b,{name:"city",defaultValue:{value:u.reactLocalStorage.get("defaultCityValue"),label:u.reactLocalStorage.get("defaultCityLabel")},options:this.state.dataCities,onChange:e=>this.handlerSelectChange(e,"city")})),s.a.createElement(g.a,null,s.a.createElement(b.a,null,"Alamat"),s.a.createElement("input",{className:"form-control",name:"address",component:"textarea",defaultValue:v.i.address,onChange:this.handleChange})),s.a.createElement(g.a,{className:"error-l-50"},s.a.createElement(b.a,null,"Upload Gambar"),s.a.createElement("div",{className:"mb-2"},s.a.createElement("input",{type:"file",name:"photo",accept:"image/jpeg, image/png",onChange:this.handleFileChange}))),s.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},s.a.createElement("p",null),s.a.createElement(E.a,{color:"primary",type:"submit"},"Submit"))))))))}}var x=N;class U extends n.Component{render(){return s.a.createElement(n.Fragment,null,s.a.createElement(l.a,null,s.a.createElement(r.a,{xxs:"12"},s.a.createElement(i.a,{heading:"menu.edit-profil",match:this.props.match}),s.a.createElement(r.b,{className:"mb-5"}))),s.a.createElement(l.a,null,s.a.createElement(r.a,{xxs:"12",lg:"3",className:"mb-3"}),s.a.createElement(r.a,{xxs:"12",lg:"6",className:"mb-3"},s.a.createElement(x,null))))}}}}]);
//# sourceMappingURL=edit-profil.3b479fa9.chunk.js.map