(this["webpackJsonpgogo-react"]=this["webpackJsonpgogo-react"]||[]).push([[52],{173:function(e,a,t){"use strict";t.d(a,"a",(function(){return r})),t.d(a,"b",(function(){return i}));var l=t(6),s=t.n(l),n=t(211);const r=e=>s.a.createElement(n.a,Object.assign({},e,{widths:["xxs","xs","sm","md","lg","xl","xxl"]})),i=e=>s.a.createElement("div",{className:"separator ".concat(e.className)})},177:function(e,a,t){"use strict";var l=t(6),s=t.n(l),n=t(222),r=t(223),i=t(176),o=t(175);const c=e=>s.a.createElement(o.a,{id:"menu.".concat(e)}),d=(e,a,t)=>0===t?"":e.split(a)[0]+a,m=({match:e})=>{const a=e.path.substr(1);let t=a.split("/");return t[t.length-1].indexOf(":")>-1&&(t=t.filter(e=>-1===e.indexOf(":"))),s.a.createElement(l.Fragment,null,s.a.createElement(n.a,{className:"pt-0 breadcrumb-container d-none d-sm-block d-lg-inline-block"},t.map((e,l)=>s.a.createElement(r.a,{key:l,active:t.length===l+1},t.length!==l+1?s.a.createElement(i.c,{to:"/"+d(a,e,l)},c(e)):c(e)))))};a.a=({heading:e,match:a})=>s.a.createElement(l.Fragment,null,e&&s.a.createElement("h1",null,s.a.createElement(o.a,{id:e})),s.a.createElement(m,{match:a}))},182:function(e,a,t){"use strict";var l=t(180),s=(t(178),t(179));t.d(a,"a",(function(){return s.a}));l.a},647:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return k}));var l=t(6),s=t.n(l),n=t(212),r=t(173),i=t(177),o=t(201),c=t(3),d=t.n(c),m=t(9),u=t(33),h=t(220),g=t(213),p=t(248),b=t(654),f=t(655),v=t(385),E=t(633),S=t.n(E),y=t(181),C=t(210),U=t(182),N=t(10);class L extends l.Component{constructor(e){var a;super(e),a=this,this.handleChange=e=>{const a=e.target,t=a.name,l=a.value;this.setState({[t]:l})},this.handlerSelectChange=(e,a)=>{const t=e.value,l=a;this.setState({[l]:t}),u.reactLocalStorage.set(l,t)},this.handlerSubmit=function(){var e=Object(m.a)(d.a.mark((function e(t,l){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),y.a.defaults.headers.common["Content-Type"]="application/json",(s=new FormData).append("code",a.state.code),s.append("name",a.state.name),s.append("email",a.state.email),s.append("phone",a.state.phone),s.append("address",a.state.address),s.append("code",a.state.code),s.append("city_id",a.state.city),s.append("role_id",a.state.role),s.append("division_id",a.state.division),y.a.put("/users/"+a.state.detailUser.id,s).then(e=>{200===e.status&&y.a.get("/users/"+a.state.detailUser.id).then(e=>{if(200===e.status){if(N.i.id===a.state.detailUser.id){const a=e.data.data;a.token=N.i.token,u.reactLocalStorage.remove("me"),u.reactLocalStorage.setObject("me",a)}window.location.href="../detail-karyawan/"+a.state.detailUser.id,u.reactLocalStorage.set("isSuccesSubmit",!0)}}).catch(e=>{console.log(e.message),U.a.error("Silahkan coba kembali beberapa saat lagi!","Terjadi Kesalahan",5e3,()=>{a.setState({visible:!1})},null)})}).catch(e=>{console.log(e.message),U.a.error("Silahkan coba kembali beberapa saat lagi!","Terjadi Kesalahan",5e3,()=>{a.setState({visible:!1})},null)});case 13:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),this.state={detailUser:""},this.onDrop=this.onDrop.bind(this)}componentDidMount(){y.a.get("/roles").then(e=>{let a=[];const t=e.data.data;var l,s=Object(o.a)(t);try{for(s.s();!(l=s.n()).done;){const e=l.value;a.push({value:e.id,label:e.name})}}catch(n){s.e(n)}finally{s.f()}this.setState({dataRoles:a})}).catch(e=>{console.log(e.message)}),y.a.get("/divisions").then(e=>{let a=[];const t=e.data.data;var l,s=Object(o.a)(t);try{for(s.s();!(l=s.n()).done;){const e=l.value;a.push({value:e.id,label:e.name})}}catch(n){s.e(n)}finally{s.f()}this.setState({dataDivisions:a})}).catch(e=>{console.log(e.message)}),y.a.get("/cities").then(e=>{let a=[];const t=e.data.data;var l,s=Object(o.a)(t);try{for(s.s();!(l=s.n()).done;){const e=l.value;a.push({value:e.id,label:e.name})}}catch(n){s.e(n)}finally{s.f()}this.setState({dataCities:a})}).catch(e=>{console.log(e.message)});var e;y.a.get("/users/"+(e=window.location.href,e.substring(e.lastIndexOf("/")+1))).then(e=>{this.setState({detailUser:e.data.data}),this.setState({code:this.state.detailUser.code}),this.setState({name:this.state.detailUser.name}),this.setState({email:this.state.detailUser.email}),this.setState({role:this.state.detailUser.role_id}),this.setState({division:this.state.detailUser.division_id}),this.setState({city:this.state.detailUser.city_id}),this.setState({phone:this.state.detailUser.phone}),this.setState({address:this.state.detailUser.address}),u.reactLocalStorage.set("defaultRoleValue",this.state.detailUser.role_id),u.reactLocalStorage.set("defaultRoleLabel",this.state.detailUser.role_name),u.reactLocalStorage.set("defaultDivisionValue",this.state.detailUser.division_id),u.reactLocalStorage.set("defaultDivisionLabel",this.state.detailUser.division_name),u.reactLocalStorage.set("defaultCityValue",this.state.detailUser.city_id),u.reactLocalStorage.set("defaultCityLabel",this.state.detailUser.city_name)}).catch(e=>{console.log(e.message)})}onDrop(e){this.setState({photo:this.state.photo.concat(e)})}render(){return s.a.createElement(n.a,{className:"mb-4"},s.a.createElement(r.a,{xxs:"12"},s.a.createElement(g.a,null,s.a.createElement(p.a,null,s.a.createElement(h.c,{enableReinitialize:!0},({setFieldValue:e,setFieldTouched:a,values:t,errors:l,touched:n,isSubmitting:r})=>s.a.createElement(h.b,{onSubmit:this.handlerSubmit,className:"av-tooltip tooltip-label-right"},s.a.createElement(b.a,{className:"error-l-50"},s.a.createElement(f.a,null,"NPK"),s.a.createElement("input",{className:"form-control",name:"code",defaultValue:this.state.detailUser.code,onChange:this.handleChange})),s.a.createElement(b.a,{className:"error-l-100"},s.a.createElement(f.a,null,"Nama Lengkap"),s.a.createElement("input",{className:"form-control",name:"name",defaultValue:this.state.detailUser.name,onChange:this.handleChange})),s.a.createElement(b.a,null,s.a.createElement(f.a,null,"Email"),s.a.createElement("input",{className:"form-control",name:"email",type:"email",defaultValue:this.state.detailUser.email,onChange:this.handleChange})),s.a.createElement(b.a,{className:"error-l-50"},s.a.createElement(f.a,null,"Role"),s.a.createElement(C.b,{name:"role",id:"role",defaultValue:{value:u.reactLocalStorage.get("defaultRoleValue"),label:u.reactLocalStorage.get("defaultRoleLabel")},options:this.state.dataRoles,onChange:e=>this.handlerSelectChange(e,"role"),onBlur:a})),s.a.createElement(b.a,{className:"error-l-50"},s.a.createElement(f.a,null,"Divisi"),s.a.createElement(C.b,{name:"division",id:"division",defaultValue:{value:u.reactLocalStorage.get("defaultDivisionValue"),label:u.reactLocalStorage.get("defaultDivisionLabel")},options:this.state.dataDivisions,onChange:e=>this.handlerSelectChange(e,"division"),onBlur:a})),s.a.createElement(b.a,{className:"error-l-50"},s.a.createElement(f.a,null,"Nomor Telepon"),s.a.createElement(S.a,{className:"form-control",name:"phone",country:"id",validate:{number:{value:!0,errorMessage:"Value must be a number"},required:{value:!0,errorMessage:"Please enter a number"}},value:this.state.detailUser.phone,onChange:e=>this.setState({phone:e})})),s.a.createElement(b.a,{className:"error-l-50"},s.a.createElement(f.a,null,"City"),s.a.createElement(C.b,{name:"city",id:"city",defaultValue:{value:u.reactLocalStorage.get("defaultCityValue"),label:u.reactLocalStorage.get("defaultCityLabel")},options:this.state.dataCities,onChange:e=>this.handlerSelectChange(e,"city"),onBlur:a})),s.a.createElement(b.a,null,s.a.createElement(f.a,null,"Alamat"),s.a.createElement("input",{onChange:this.handleChange,className:"form-control",name:"address",component:"textarea",defaultValue:this.state.detailUser.address}),l.address&&n.address?s.a.createElement("div",{className:"invalid-feedback d-block"},l.address):null),s.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},s.a.createElement("p",null),s.a.createElement(v.a,{color:"primary",type:"submit"},"Submit"))))))))}}var x=L;class k extends l.Component{render(){return s.a.createElement(l.Fragment,null,s.a.createElement(n.a,null,s.a.createElement(r.a,{xxs:"12"},s.a.createElement(i.a,{heading:"menu.edit-karyawan",match:this.props.match}),s.a.createElement(r.b,{className:"mb-5"}))),s.a.createElement(n.a,null,s.a.createElement(r.a,{xxs:"12",lg:"3",className:"mb-3"}),s.a.createElement(r.a,{xxs:"12",lg:"6",className:"mb-3"},s.a.createElement(x,null))))}}}}]);